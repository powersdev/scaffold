"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setPath = void 0;
const bud_support_1 = require("@roots/bud-support");
const { isString } = bud_support_1.lodash;
const setPath = function (arg1, arg2) {
    const app = this;
    const input = isString(arg1) ? { [arg1]: arg2 } : arg1;
    Object.entries(input).map(([key, value]) => {
        !key.startsWith(`@`) &&
            app.error(`bud paths are required to be prefixed with \`@\`. Please convert \`${key}\` to \`@${key}\``);
        const absolutePath = app.path(value);
        !absolutePath.startsWith('/') &&
            app.error(`internal error: the final result of a bud.setPath transform was not absolute: ${key} => ${value} => ${absolutePath}`);
        app.hooks.on(`location.${key}`, app.path(value));
        app.info(`${key} set to ${value}`);
    });
    return app;
};
exports.setPath = setPath;
