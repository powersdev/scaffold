"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.persist = void 0;
const bud_support_1 = require("@roots/bud-support");
const { isString } = bud_support_1.lodash;
const persist = function (type) {
    const ctx = this;
    if (type === false) {
        ctx.cache.enabled = false;
        ctx.api.log('success', { message: 'cache disabled' });
        return ctx;
    }
    ctx.cache.enabled = true;
    ctx.cache.type = isString(type) ? type : 'filesystem';
    ctx.api.log('success', {
        message: 'cache enabled',
        suffix: bud_support_1.chalk.dim(type),
    });
    return ctx;
};
exports.persist = persist;
