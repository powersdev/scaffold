"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.alias = void 0;
const alias = async function (input) {
    const app = this;
    input = Object.entries(input).reduce((a, [k, v]) => {
        if (v.startsWith('@')) {
            return { ...a, [k]: app.path(v) };
        }
        if (!v.startsWith('/')) {
            return { ...a, [k]: app.path(v) };
        }
        return { ...a, [k]: v };
    }, {});
    app.hooks.async('build.resolve.alias', async (aliases) => {
        return { ...(aliases ?? {}), ...(input ?? {}) };
    });
    return app;
};
exports.alias = alias;
