/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 83:
/***/ (function(__unused_webpack_module, exports, __nccwpck_require__) {


var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Dashboard = void 0;
const bud_framework_1 = __nccwpck_require__(129);
const bud_support_1 = __nccwpck_require__(660);
const stats_1 = __nccwpck_require__(128);
/**
 * Dashboard service
 *
 * @public
 */
class Dashboard extends bud_framework_1.Service {
    /**
     * Run dashboard
     *
     * @public
     * @decorator `@bind`
     */
    async stats(compilerStats) {
        stats_1.stats.write(compilerStats, this.app);
    }
}
__decorate([
    bud_support_1.bind
], Dashboard.prototype, "stats", null);
exports.Dashboard = Dashboard;


/***/ }),

/***/ 683:
/***/ ((__unused_webpack_module, exports, __nccwpck_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.make = void 0;
const bud_support_1 = __nccwpck_require__(660);
const theme_1 = __nccwpck_require__(614);
const WIDTH_FALLBACK = 60;
const width = process.stdout.columns
    ? process.stdout.columns - 5
    : WIDTH_FALLBACK;
const make = (title, content, overrides) => (0, bud_support_1.boxen)(`\n`.concat(content), {
    title,
    textAlignment: 'left',
    borderColor: theme_1.theme.dim,
    width,
    ...(overrides ?? {}),
    margin: {
        top: 0,
        bottom: 1,
        left: 0,
        right: 0,
        ...(overrides?.margin ?? {}),
    },
    padding: {
        left: 1,
        top: 1,
        right: 1,
        bottom: 0,
        ...(overrides?.padding ?? {}),
    },
});
exports.make = make;


/***/ }),

/***/ 966:
/***/ (function(__unused_webpack_module, exports, __nccwpck_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.framework = exports.development = exports.summary = exports.timing = exports.report = exports.assetGroup = exports.time = exports.assets = exports.statics = exports.hot = exports.size = exports.chunk = exports.name = exports.status = void 0;
const bud_support_1 = __nccwpck_require__(660);
const box = __importStar(__nccwpck_require__(683));
const table = __importStar(__nccwpck_require__(179));
const theme_1 = __nccwpck_require__(614);
const assetColor = asset => asset.info.error
    ? theme_1.theme.red
    : asset.info.warning
        ? theme_1.theme.yellow
        : asset.emitted
            ? theme_1.theme.green
            : theme_1.theme.dim;
const assetIcon = asset => asset.info.minimized && asset.emitted
    ? `âš¡`
    : asset.info.hotModuleReplacement
        ? `ðŸ”¥`
        : asset.emitted
            ? `âœ”`
            : asset.info.error
                ? `âœ–`
                : asset.info.warning
                    ? `âš `
                    : ` `;
const status = (asset) => bud_support_1.chalk.hex(assetColor(asset))(assetIcon(asset));
exports.status = status;
const name = asset => bud_support_1.chalk.hex(assetColor(asset))(asset.info.hotModuleReplacement
    ? (asset.info.sourceFilename ?? asset.name).split(`.`)[0]
    : asset.info.sourceFilename ?? asset.name);
exports.name = name;
const chunk = asset => bud_support_1.chalk.hex(assetColor(asset))(asset.chunkNames.length ? asset.chunkNames.join(` `) : `á ƒ`);
exports.chunk = chunk;
const size = asset => bud_support_1.chalk.hex(asset.emitted ? theme_1.theme.foregroundColor : theme_1.theme.dim)(bud_support_1.humanReadable.sizeFormatter()(asset.info.size));
exports.size = size;
const hot = compilation => compilation.assets.filter(asset => asset.name.endsWith(`.js`) && asset.name.includes(`hot-update`)) ?? [];
exports.hot = hot;
const statics = compilation => compilation.assets.filter(asset => ![`js`, `css`].includes(asset.name.split('.').pop()) &&
    !asset.name.includes(`hot-update`)) ?? [];
exports.statics = statics;
const assets = compilation => compilation.assets.filter(asset => asset.name.endsWith(`.css`) ||
    (asset.name.endsWith(`.js`) && !asset.name.includes('hot-update'))) ?? [];
exports.assets = assets;
const time = time => bud_support_1.humanReadable.durationFormatter({
    allowMultiples: ['s', 'ms'],
})(time);
exports.time = time;
const assetGroup = assets => assets?.length
    ? assets.map(asset => [
        (0, exports.status)(asset),
        (0, exports.chunk)(asset),
        (0, exports.name)(asset),
        (0, exports.size)(asset),
    ])
    : [];
exports.assetGroup = assetGroup;
const report = (compilation) => [
    table.make([
        ...(0, exports.assetGroup)((0, exports.assets)(compilation)),
        ...(0, exports.assetGroup)((0, exports.hot)(compilation)),
        ...(0, exports.assetGroup)((0, exports.statics)(compilation)),
    ].filter(Boolean)),
];
exports.report = report;
const timing = (app, compilation) => [
    table.make([
        [
            bud_support_1.chalk.hex(theme_1.theme.magenta)(`duration`),
            app.mode === 'production'
                ? `${(0, exports.time)(app._hrdone + compilation.time)} ${bud_support_1.chalk.dim(`(${(0, exports.time)(app._hrdone)} + ${(0, exports.time)(compilation.time)})`)}`
                : (0, exports.time)(compilation.time),
        ],
    ]),
];
exports.timing = timing;
const summary = (app, compilation) => [
    table.make([
        [
            bud_support_1.chalk.hex(theme_1.theme.magenta)(`mode`),
            bud_support_1.chalk.hex(theme_1.theme.foregroundColor)(app.mode),
            bud_support_1.chalk.hex(theme_1.theme.magenta)(`hash`),
            bud_support_1.chalk.hex(theme_1.theme.foregroundColor)(compilation.hash),
        ],
        [
            bud_support_1.chalk.hex(theme_1.theme.magenta)('bud'),
            bud_support_1.chalk.hex(theme_1.theme.foregroundColor)(app.project.get('installed.@roots/bud')),
            bud_support_1.chalk.hex(theme_1.theme.magenta)('webpack'),
            bud_support_1.chalk.hex(theme_1.theme.foregroundColor)(compilation.version),
        ],
    ]),
    ...(app.isDevelopment
        ? [
            table.make([
                [
                    bud_support_1.chalk.hex(theme_1.theme.magenta)(`server url:`),
                    app.server.connection.url.toString(),
                ],
                app.hooks.filter(`middleware.enabled`).includes(`proxy`)
                    ? [
                        bud_support_1.chalk.hex(theme_1.theme.magenta)(`proxy url:`),
                        app.hooks.filter(`middleware.proxy.target`).toString(),
                    ]
                    : [``, ``],
            ]),
        ]
        : []),
];
exports.summary = summary;
const development = (app) => [
    box.make('development', table.make([
        [
            bud_support_1.chalk.hex(theme_1.theme.magenta)('server'),
            app.server.connection.url.toString(),
        ],
        app.hooks.filter('middleware.enabled').includes('proxy')
            ? [
                bud_support_1.chalk.hex(theme_1.theme.magenta)('proxy'),
                app.hooks.filter('middleware.proxy.target').toString(),
            ]
            : ['', ''],
    ])),
];
exports.development = development;
const framework = (app) => [
    box.make('rules', table.make(Object.entries(app.build.rules).map(([type, rule]) => [
        bud_support_1.chalk.hex(theme_1.theme.magenta)(type),
        [...rule.getUse()?.map(use => bud_support_1.chalk.hex(theme_1.theme.cyan)(`\`${use}\``))]
            .reverse()
            .join(', '),
    ]))),
    box.make('cache', table.make([
        [
            bud_support_1.chalk.hex(theme_1.theme.magenta)(`type`),
            bud_support_1.chalk.hex(theme_1.theme.foregroundColor)(`filesystem`),
        ],
        [
            bud_support_1.chalk.hex(theme_1.theme.magenta)(`ident`),
            bud_support_1.chalk.hex(theme_1.theme.foregroundColor)(app.cache.version),
        ],
    ])),
    box.make('extensions', table.make(bud_support_1.lodash
        .chunk(app.extensions.getValues(), 2)
        .map(chunk => [
        ...chunk.map(({ name }) => `${bud_support_1.chalk.hex(theme_1.theme.cyan)(`\`${name.toLowerCase()}\``)}`),
        ...Array(1).fill(``),
    ].slice(0, 2)))),
];
exports.framework = framework;


/***/ }),

/***/ 128:
/***/ (function(__unused_webpack_module, exports, __nccwpck_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.stats = void 0;
const stats = __importStar(__nccwpck_require__(953));
exports.stats = stats;


/***/ }),

/***/ 953:
/***/ (function(__unused_webpack_module, exports, __nccwpck_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.write = void 0;
const box = __importStar(__nccwpck_require__(683));
const components = __importStar(__nccwpck_require__(966));
const theme_1 = __nccwpck_require__(614);
const webpackMessage = __importStar(__nccwpck_require__(900));
const write = (stats, app) => stats.toJson().children?.map(compilation => {
    if (!compilation?.entrypoints)
        return compilation;
    const output = [
        ...webpackMessage.mapMessages(compilation.warnings, theme_1.theme.yellow),
        ...webpackMessage.mapMessages(compilation.errors, theme_1.theme.red),
        box.make('assets', components.report(compilation).join('')),
        ...components.timing(app, compilation),
        ...components.summary(app, compilation),
        ...(app.store.get('features.log') ? components.framework(app) : []),
    ].join('');
    // eslint-disable-next-line
    app.context.stdout.write(`\n${output}\n`);
});
exports.write = write;


/***/ }),

/***/ 179:
/***/ ((__unused_webpack_module, exports, __nccwpck_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.make = void 0;
const bud_support_1 = __nccwpck_require__(660);
const make = (data) => {
    return bud_support_1.table.table(data, {
        border: bud_support_1.table.getBorderCharacters('void'),
        singleLine: true,
        columnDefault: {
            alignment: 'left',
            wrapWord: true,
            paddingRight: 3,
            paddingLeft: 1,
        },
    });
};
exports.make = make;


/***/ }),

/***/ 614:
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.theme = void 0;
exports.theme = {
    dim: '#8f908d',
    foregroundColor: '#eff0eb',
    backgroundColor: '#282a36',
    red: '#ff5c57',
    green: '#5af78e',
    yellow: '#f3f99d',
    blue: '#57c7ff',
    magenta: '#ff6ac1',
    cyan: '#9aedfe',
};


/***/ }),

/***/ 900:
/***/ (function(__unused_webpack_module, exports, __nccwpck_require__) {


var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.mapMessages = exports.make = void 0;
const box = __importStar(__nccwpck_require__(683));
const make = ({ message, title }, color) => box.make(title ?? 'error', message, {
    margin: {
        top: 0,
        bottom: 1,
        left: 0,
        right: 0,
    },
    padding: {
        top: 0,
        bottom: 0,
        left: 1,
        right: 1,
    },
    borderColor: color,
});
exports.make = make;
const mapMessages = (messages, color) => messages.map(message => (0, exports.make)(message, color));
exports.mapMessages = mapMessages;


/***/ }),

/***/ 129:
/***/ ((module) => {

module.exports = require("@roots/bud-framework");

/***/ }),

/***/ 660:
/***/ ((module) => {

module.exports = require("@roots/bud-support");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __nccwpck_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		var threw = true;
/******/ 		try {
/******/ 			__webpack_modules__[moduleId].call(module.exports, module, module.exports, __nccwpck_require__);
/******/ 			threw = false;
/******/ 		} finally {
/******/ 			if(threw) delete __webpack_module_cache__[moduleId];
/******/ 		}
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat */
/******/ 	
/******/ 	if (typeof __nccwpck_require__ !== 'undefined') __nccwpck_require__.ab = __dirname + "/";
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
var exports = __webpack_exports__;

// Copyright Â© Roots Software Foundation LLC
// Licensed under the MIT license.
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Dashboard = void 0;
/**
 * The Dashboard package implements the Framework.Dashboard interface.
 *
 * @see https://roots.io/bud
 * @see https://github.com/roots/bud
 *
 *  @packageDocumentation
 */
var Dashboard_1 = __nccwpck_require__(83);
Object.defineProperty(exports, "Dashboard", ({ enumerable: true, get: function () { return Dashboard_1.Dashboard; } }));

})();

module.exports = __webpack_exports__;
/******/ })()
;